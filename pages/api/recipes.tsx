export const MOCK_COOKIE_RECIPES_RESPONSE = JSON.parse(`
{
    "qt": "cookies",
    "from": 0,
    "to": 10,
    "more": true,
    "count": 7000,
    "hits": [
      {
        "recipe": {
          "uri": "http://www.edamam.com/ontologies/edamam.owl#recipe_12c5f107ea0c997d567da017371b7ea5",
          "label": "Lemon Cookies",
          "image": "https://www.edamam.com/web-img/274/274460e085d9cb15a1bc70f0fcdb8065.jpg",
          "source": "Epicurious",
          "url": "https://www.epicurious.com/recipes/food/views/lemon-cookies-108920",
          "shareAs": "http://www.edamam.com/recipe/lemon-cookies-12c5f107ea0c997d567da017371b7ea5/cookies",
          "yield": 48,
          "dietLabels": [],
          "healthLabels": [
            "Sugar-Conscious",
            "Vegetarian",
            "Pescatarian",
            "Peanut-Free",
            "Tree-Nut-Free",
            "Soy-Free",
            "Fish-Free",
            "Shellfish-Free",
            "Pork-Free",
            "Red-Meat-Free",
            "Crustacean-Free",
            "Celery-Free",
            "Mustard-Free",
            "Sesame-Free",
            "Lupine-Free",
            "Mollusk-Free",
            "Alcohol-Free",
            "Sulfite-Free",
            "Kosher",
            "Immuno-Supportive"
          ],
          "cautions": [
            "Sulfites"
          ],
          "ingredientLines": [
            "Ingredients for basic butter cookies",
            "2 tablespoons fresh lemon juice",
            "1 tablespoon finely grated fresh lemon zest"
          ],
          "ingredients": [
            {
              "text": "Ingredients for basic butter cookies",
              "quantity": 0,
              "measure": null,
              "food": "butter cookies",
              "weight": 0,
              "foodCategory": "quick breads and pastries",
              "foodId": "food_bnode3xa412j8lbm65rwga8e1ytn",
              "image": "https://www.edamam.com/food-img/bbd/bbd48b17ad02618fb9b06f578415e266.jpg"
            },
            {
              "text": "Ingredients for basic butter cookies",
              "quantity": 0,
              "measure": null,
              "food": "cookies",
              "weight": 0,
              "foodCategory": "quick breads and pastries",
              "foodId": "food_awe80f5alx59k4an6ebyeb9a8m2h",
              "image": "https://www.edamam.com/food-img/c49/c49cbd80f3156ae1b2a7d0a5f23a4a00.jpg"
            },
            {
              "text": "2 tablespoons fresh lemon juice",
              "quantity": 2,
              "measure": "tablespoon",
              "food": "lemon juice",
              "weight": 30.4999999994844,
              "foodCategory": "100% juice",
              "foodId": "food_bglm6vxahuauteb0n6ynfbg9eryu",
              "image": "https://www.edamam.com/food-img/e31/e310952d214e78a4cb8b73f30ceeaaf2.jpg"
            },
            {
              "text": "1 tablespoon finely grated fresh lemon zest",
              "quantity": 1,
              "measure": "tablespoon",
              "food": "lemon zest",
              "weight": 6,
              "foodCategory": "fruit",
              "foodId": "food_bpg66j3a5vjuuga36uiiyaqeazpd",
              "image": "https://www.edamam.com/food-img/540/5405605c8e9b284243f06c0b1587ab6f.jpg"
            }
          ],
          "calories": 9.529999999886568,
          "totalWeight": 36.4999999994844,
          "totalTime": 0,
          "cuisineType": [
            "american"
          ],
          "mealType": [
            "teatime"
          ],
          "dishType": [
            "biscuits and cookies"
          ],
          "totalNutrients": {
            "ENERC_KCAL": {
              "label": "Energy",
              "quantity": 9.529999999886568,
              "unit": "kcal"
            },
            "FAT": {
              "label": "Fat",
              "quantity": 0.09119999999876256,
              "unit": "g"
            },
            "FASAT": {
              "label": "Saturated",
              "quantity": 0.014539999999793761,
              "unit": "g"
            },
            "FATRN": {
              "label": "Trans",
              "quantity": 0,
              "unit": "g"
            },
            "FAMS": {
              "label": "Monounsaturated",
              "quantity": 0.002489999999969064,
              "unit": "g"
            },
            "FAPU": {
              "label": "Polyunsaturated",
              "quantity": 0.011744999999891724,
              "unit": "g"
            },
            "CHOCDF": {
              "label": "Carbs",
              "quantity": 3.064499999964424,
              "unit": "g"
            },
            "FIBTG": {
              "label": "Fiber",
              "quantity": 0.7274999999984532,
              "unit": "g"
            },
            "SUGAR": {
              "label": "Sugars",
              "quantity": 1.018799999987007,
              "unit": "g"
            },
            "PROCNT": {
              "label": "Protein",
              "quantity": 0.1967499999981954,
              "unit": "g"
            },
            "CHOLE": {
              "label": "Cholesterol",
              "quantity": 0,
              "unit": "mg"
            },
            "NA": {
              "label": "Sodium",
              "quantity": 0.6649999999948439,
              "unit": "mg"
            },
            "CA": {
              "label": "Calcium",
              "quantity": 9.869999999969064,
              "unit": "mg"
            },
            "MG": {
              "label": "Magnesium",
              "quantity": 2.729999999969064,
              "unit": "mg"
            },
            "K": {
              "label": "Potassium",
              "quantity": 41.014999999468934,
              "unit": "mg"
            },
            "FE": {
              "label": "Iron",
              "quantity": 0.07239999999958752,
              "unit": "mg"
            },
            "ZN": {
              "label": "Zinc",
              "quantity": 0.0302499999997422,
              "unit": "mg"
            },
            "P": {
              "label": "Phosphorus",
              "quantity": 3.1599999999587522,
              "unit": "mg"
            },
            "VITA_RAE": {
              "label": "Vitamin A",
              "quantity": 0.18,
              "unit": "µg"
            },
            "VITC": {
              "label": "Vitamin C",
              "quantity": 19.543499999800463,
              "unit": "mg"
            },
            "THIA": {
              "label": "Thiamin (B1)",
              "quantity": 0.010919999999876256,
              "unit": "mg"
            },
            "RIBF": {
              "label": "Riboflavin (B2)",
              "quantity": 0.00937499999992266,
              "unit": "mg"
            },
            "NIA": {
              "label": "Niacin (B3)",
              "quantity": 0.0517549999995308,
              "unit": "mg"
            },
            "VITB6A": {
              "label": "Vitamin B6",
              "quantity": 0.024349999999762825,
              "unit": "mg"
            },
            "FOLDFE": {
              "label": "Folate equivalent (total)",
              "quantity": 6.879999999896881,
              "unit": "µg"
            },
            "FOLFD": {
              "label": "Folate (food)",
              "quantity": 6.879999999896881,
              "unit": "µg"
            },
            "FOLAC": {
              "label": "Folic acid",
              "quantity": 0,
              "unit": "µg"
            },
            "VITB12": {
              "label": "Vitamin B12",
              "quantity": 0,
              "unit": "µg"
            },
            "VITD": {
              "label": "Vitamin D",
              "quantity": 0,
              "unit": "µg"
            },
            "TOCPHA": {
              "label": "Vitamin E",
              "quantity": 0.060749999999226596,
              "unit": "mg"
            },
            "VITK1": {
              "label": "Vitamin K",
              "quantity": 0,
              "unit": "µg"
            },
            "WATER": {
              "label": "Water",
              "quantity": 33.05054999952405,
              "unit": "g"
            }
          },
          "totalDaily": {
            "ENERC_KCAL": {
              "label": "Energy",
              "quantity": 0.4764999999943284,
              "unit": "%"
            },
            "FAT": {
              "label": "Fat",
              "quantity": 0.14030769230578857,
              "unit": "%"
            },
            "FASAT": {
              "label": "Saturated",
              "quantity": 0.07269999999896881,
              "unit": "%"
            },
            "CHOCDF": {
              "label": "Carbs",
              "quantity": 1.0214999999881413,
              "unit": "%"
            },
            "FIBTG": {
              "label": "Fiber",
              "quantity": 2.9099999999938126,
              "unit": "%"
            },
            "PROCNT": {
              "label": "Protein",
              "quantity": 0.3934999999963908,
              "unit": "%"
            },
            "CHOLE": {
              "label": "Cholesterol",
              "quantity": 0,
              "unit": "%"
            },
            "NA": {
              "label": "Sodium",
              "quantity": 0.027708333333118496,
              "unit": "%"
            },
            "CA": {
              "label": "Calcium",
              "quantity": 0.9869999999969064,
              "unit": "%"
            },
            "MG": {
              "label": "Magnesium",
              "quantity": 0.6499999999926344,
              "unit": "%"
            },
            "K": {
              "label": "Potassium",
              "quantity": 0.8726595744567859,
              "unit": "%"
            },
            "FE": {
              "label": "Iron",
              "quantity": 0.40222222221993065,
              "unit": "%"
            },
            "ZN": {
              "label": "Zinc",
              "quantity": 0.27499999999765634,
              "unit": "%"
            },
            "P": {
              "label": "Phosphorus",
              "quantity": 0.4514285714226789,
              "unit": "%"
            },
            "VITA_RAE": {
              "label": "Vitamin A",
              "quantity": 0.02,
              "unit": "%"
            },
            "VITC": {
              "label": "Vitamin C",
              "quantity": 21.714999999778293,
              "unit": "%"
            },
            "THIA": {
              "label": "Thiamin (B1)",
              "quantity": 0.909999999989688,
              "unit": "%"
            },
            "RIBF": {
              "label": "Riboflavin (B2)",
              "quantity": 0.7211538461478969,
              "unit": "%"
            },
            "NIA": {
              "label": "Niacin (B3)",
              "quantity": 0.3234687499970675,
              "unit": "%"
            },
            "VITB6A": {
              "label": "Vitamin B6",
              "quantity": 1.8730769230586788,
              "unit": "%"
            },
            "FOLDFE": {
              "label": "Folate equivalent (total)",
              "quantity": 1.7199999999742202,
              "unit": "%"
            },
            "VITB12": {
              "label": "Vitamin B12",
              "quantity": 0,
              "unit": "%"
            },
            "VITD": {
              "label": "Vitamin D",
              "quantity": 0,
              "unit": "%"
            },
            "TOCPHA": {
              "label": "Vitamin E",
              "quantity": 0.404999999994844,
              "unit": "%"
            },
            "VITK1": {
              "label": "Vitamin K",
              "quantity": 0,
              "unit": "%"
            }
          },
          "digest": [
            {
              "label": "Fat",
              "tag": "FAT",
              "schemaOrgTag": "fatContent",
              "total": 0.09119999999876256,
              "hasRDI": true,
              "daily": 0.14030769230578857,
              "unit": "g",
              "sub": [
                {
                  "label": "Saturated",
                  "tag": "FASAT",
                  "schemaOrgTag": "saturatedFatContent",
                  "total": 0.014539999999793761,
                  "hasRDI": true,
                  "daily": 0.07269999999896881,
                  "unit": "g"
                },
                {
                  "label": "Trans",
                  "tag": "FATRN",
                  "schemaOrgTag": "transFatContent",
                  "total": 0,
                  "hasRDI": false,
                  "daily": 0,
                  "unit": "g"
                },
                {
                  "label": "Monounsaturated",
                  "tag": "FAMS",
                  "schemaOrgTag": null,
                  "total": 0.002489999999969064,
                  "hasRDI": false,
                  "daily": 0,
                  "unit": "g"
                },
                {
                  "label": "Polyunsaturated",
                  "tag": "FAPU",
                  "schemaOrgTag": null,
                  "total": 0.011744999999891724,
                  "hasRDI": false,
                  "daily": 0,
                  "unit": "g"
                }
              ]
            },
            {
              "label": "Carbs",
              "tag": "CHOCDF",
              "schemaOrgTag": "carbohydrateContent",
              "total": 3.064499999964424,
              "hasRDI": true,
              "daily": 1.0214999999881413,
              "unit": "g",
              "sub": [
                {
                  "label": "Carbs (net)",
                  "tag": "CHOCDF.net",
                  "schemaOrgTag": null,
                  "total": 0,
                  "hasRDI": false,
                  "daily": 0,
                  "unit": "g"
                },
                {
                  "label": "Fiber",
                  "tag": "FIBTG",
                  "schemaOrgTag": "fiberContent",
                  "total": 0.7274999999984532,
                  "hasRDI": true,
                  "daily": 2.9099999999938126,
                  "unit": "g"
                },
                {
                  "label": "Sugars",
                  "tag": "SUGAR",
                  "schemaOrgTag": "sugarContent",
                  "total": 1.018799999987007,
                  "hasRDI": false,
                  "daily": 0,
                  "unit": "g"
                },
                {
                  "label": "Sugars, added",
                  "tag": "SUGAR.added",
                  "schemaOrgTag": null,
                  "total": 0,
                  "hasRDI": false,
                  "daily": 0,
                  "unit": "g"
                }
              ]
            },
            {
              "label": "Protein",
              "tag": "PROCNT",
              "schemaOrgTag": "proteinContent",
              "total": 0.1967499999981954,
              "hasRDI": true,
              "daily": 0.3934999999963908,
              "unit": "g"
            },
            {
              "label": "Cholesterol",
              "tag": "CHOLE",
              "schemaOrgTag": "cholesterolContent",
              "total": 0,
              "hasRDI": true,
              "daily": 0,
              "unit": "mg"
            },
            {
              "label": "Sodium",
              "tag": "NA",
              "schemaOrgTag": "sodiumContent",
              "total": 0.6649999999948439,
              "hasRDI": true,
              "daily": 0.027708333333118496,
              "unit": "mg"
            },
            {
              "label": "Calcium",
              "tag": "CA",
              "schemaOrgTag": null,
              "total": 9.869999999969064,
              "hasRDI": true,
              "daily": 0.9869999999969064,
              "unit": "mg"
            },
            {
              "label": "Magnesium",
              "tag": "MG",
              "schemaOrgTag": null,
              "total": 2.729999999969064,
              "hasRDI": true,
              "daily": 0.6499999999926344,
              "unit": "mg"
            },
            {
              "label": "Potassium",
              "tag": "K",
              "schemaOrgTag": null,
              "total": 41.014999999468934,
              "hasRDI": true,
              "daily": 0.8726595744567859,
              "unit": "mg"
            },
            {
              "label": "Iron",
              "tag": "FE",
              "schemaOrgTag": null,
              "total": 0.07239999999958752,
              "hasRDI": true,
              "daily": 0.40222222221993065,
              "unit": "mg"
            },
            {
              "label": "Zinc",
              "tag": "ZN",
              "schemaOrgTag": null,
              "total": 0.0302499999997422,
              "hasRDI": true,
              "daily": 0.27499999999765634,
              "unit": "mg"
            },
            {
              "label": "Phosphorus",
              "tag": "P",
              "schemaOrgTag": null,
              "total": 3.1599999999587522,
              "hasRDI": true,
              "daily": 0.4514285714226789,
              "unit": "mg"
            },
            {
              "label": "Vitamin A",
              "tag": "VITA_RAE",
              "schemaOrgTag": null,
              "total": 0.18,
              "hasRDI": true,
              "daily": 0.02,
              "unit": "µg"
            },
            {
              "label": "Vitamin C",
              "tag": "VITC",
              "schemaOrgTag": null,
              "total": 19.543499999800463,
              "hasRDI": true,
              "daily": 21.714999999778293,
              "unit": "mg"
            },
            {
              "label": "Thiamin (B1)",
              "tag": "THIA",
              "schemaOrgTag": null,
              "total": 0.010919999999876256,
              "hasRDI": true,
              "daily": 0.909999999989688,
              "unit": "mg"
            },
            {
              "label": "Riboflavin (B2)",
              "tag": "RIBF",
              "schemaOrgTag": null,
              "total": 0.00937499999992266,
              "hasRDI": true,
              "daily": 0.7211538461478969,
              "unit": "mg"
            },
            {
              "label": "Niacin (B3)",
              "tag": "NIA",
              "schemaOrgTag": null,
              "total": 0.0517549999995308,
              "hasRDI": true,
              "daily": 0.3234687499970675,
              "unit": "mg"
            },
            {
              "label": "Vitamin B6",
              "tag": "VITB6A",
              "schemaOrgTag": null,
              "total": 0.024349999999762825,
              "hasRDI": true,
              "daily": 1.8730769230586788,
              "unit": "mg"
            },
            {
              "label": "Folate equivalent (total)",
              "tag": "FOLDFE",
              "schemaOrgTag": null,
              "total": 6.879999999896881,
              "hasRDI": true,
              "daily": 1.7199999999742202,
              "unit": "µg"
            },
            {
              "label": "Folate (food)",
              "tag": "FOLFD",
              "schemaOrgTag": null,
              "total": 6.879999999896881,
              "hasRDI": false,
              "daily": 0,
              "unit": "µg"
            },
            {
              "label": "Folic acid",
              "tag": "FOLAC",
              "schemaOrgTag": null,
              "total": 0,
              "hasRDI": false,
              "daily": 0,
              "unit": "µg"
            },
            {
              "label": "Vitamin B12",
              "tag": "VITB12",
              "schemaOrgTag": null,
              "total": 0,
              "hasRDI": true,
              "daily": 0,
              "unit": "µg"
            },
            {
              "label": "Vitamin D",
              "tag": "VITD",
              "schemaOrgTag": null,
              "total": 0,
              "hasRDI": true,
              "daily": 0,
              "unit": "µg"
            },
            {
              "label": "Vitamin E",
              "tag": "TOCPHA",
              "schemaOrgTag": null,
              "total": 0.060749999999226596,
              "hasRDI": true,
              "daily": 0.404999999994844,
              "unit": "mg"
            },
            {
              "label": "Vitamin K",
              "tag": "VITK1",
              "schemaOrgTag": null,
              "total": 0,
              "hasRDI": true,
              "daily": 0,
              "unit": "µg"
            },
            {
              "label": "Sugar alcohols",
              "tag": "Sugar.alcohol",
              "schemaOrgTag": null,
              "total": 0,
              "hasRDI": false,
              "daily": 0,
              "unit": "g"
            },
            {
              "label": "Water",
              "tag": "WATER",
              "schemaOrgTag": null,
              "total": 33.05054999952405,
              "hasRDI": false,
              "daily": 0,
              "unit": "g"
            }
          ]
        }
      }
    ]
  }
`)

export default async function RecipesService(req, res) {

    const isProduction = process.env.APP_ENVIRONMENT === 'production';
    if (isProduction) {
        const { recipeToSearchFor } = req.body
        const url = 'https://api.edamam.com/search?app_id=75e7a254&app_key=9e0e776f76b893572427067592520f82&q=' + recipeToSearchFor;
        const recipesResponse = await fetch(url)
        const recipesData = await recipesResponse.json();
        res.status(200).json(recipesData)
    } else {
        res.status(200).json(MOCK_COOKIE_RECIPES_RESPONSE);
    }
}